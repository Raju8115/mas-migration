-- VIEW: MAXIMO.WMASSIGNMENT
CREATE OR REPLACE VIEW "MAXIMO"."WMASSIGNMENT" ("WONUM", "PARENT", "STATUS", "STATUSDATE", "WORKTYPE", "DESCRIPTION", "ASSETNUM", "LOCATION", "JPNUM", "FAILDATE", "CHANGEBY", "CHANGEDATE", "ESTDUR", "ESTLABHRS", "ESTMATCOST", "ESTLABCOST", "ESTTOOLCOST", "PMNUM", "ACTLABHRS", "ACTMATCOST", "ACTLABCOST", "ACTTOOLCOST", "HASCHILDREN", "OUTLABCOST", "OUTMATCOST", "OUTTOOLCOST", "HISTORYFLAG", "CONTRACT", "WOPRIORITY", "TARGCOMPDATE", "TARGSTARTDATE", "REPORTEDBY", "REPORTDATE", "PHONE", "PROBLEMCODE", "CALENDAR", "DOWNTIME", "ACTSTART", "ACTFINISH", "SCHEDSTART", "SCHEDFINISH", "REMDUR", "CREWID", "SUPERVISOR", "WOLABLNK", "RESPONDBY", "ASSETLOCPRIORITY", "CALCPRIORITY", "CHARGESTORE", "FAILURECODE", "GLACCOUNT", "ESTSERVCOST", "ACTSERVCOST", "DISABLED", "ESTATAPPRLABHRS", "ESTATAPPRLABCOST", "ESTATAPPRMATCOST", "ESTATAPPRTOOLCOST", "ESTATAPPRSERVCOST", "WOSEQUENCE", "HASFOLLOWUPWORK", "SOURCESYSID", "OWNERSYSID", "PMDUEDATE", "PMEXTDATE", "PMNEXTDUEDATE", "WORKLOCATION", "EXTERNALREFID", "SENDERSYSID", "FINCNTRLID", "GENERATEDFORPO", "GENFORPOLINEID", "ORGID", "SITEID", "TASKID", "INSPECTOR", "MEASUREMENTVALUE", "MEASUREDATE", "OBSERVATION", "POINTNUM", "ISTASK", "WOCLASS", "ONBEHALFOF", "WOVENDOR", "ORIGRECORDCLASS", "ORIGRECORDID", "JUSTIFYPRIORITY", "RISK", "ENVIRONMENT", "BACKOUTPLAN", "WOACCEPTSCHARGES", "OWNER", "CLASSSTRUCTUREID", "PARENTCHGSSTATUS", "OWNERGROUP", "COMMODITYGROUP", "COMMODITY", "WORKORDERID", "WHOMISCHANGEFOR", "REASONFORCHANGE", "VERIFICATION", "PERSONGROUP", "LEAD", "HASLD", "INTERRUPTIBLE", "WOGROUP", "LANGCODE", "ROWSTAMP", "WPLABORID", "CRAFT", "LABORHRS", "SCHEDULEDATE", "LABORCODE", "STARTDATE", "FINISHDATE", "ASSIGNMENTID", "SKILLLEVEL", "VENDOR", "CONTRACTNUM", "ROWSTAMP1", "ASSIGNSTATUS", "REPFACSITEID", "REPAIRFACILITY", "PLUSCJPREVNUM", "PLUSCLOOP", "PLUSCOVERDUEDATE", "PLUSCPHYLOC", "AMCREW", "AMCREWTYPE", "CREWWORKGROUP", "ACREWWORKGROUP", "WORKDATE", "ASSNAPPTREQ", "APPOINTMENT", "APPTREQUIRED", "INTSHIFT", "SNECONSTRAINT", "FNLCONSTRAINT", "INCTASKSINSCHED", "PLUSSISGIS", "PLUSSFEATURECLASS", "PARENTASSIGNID", "WORKLOG") AS SELECT workorder.wonum, workorder.parent, workorder.status, workorder.statusdate, workorder.worktype, workorder.description, workorder.assetnum, workorder.location, workorder.jpnum, workorder.faildate, workorder.changeby, workorder.changedate, workorder.estdur, workorder.estlabhrs, workorder.estmatcost, workorder.estlabcost, workorder.esttoolcost, workorder.pmnum, workorder.actlabhrs, workorder.actmatcost, workorder.actlabcost, workorder.acttoolcost, workorder.haschildren, workorder.outlabcost, workorder.outmatcost, workorder.outtoolcost, workorder.historyflag, workorder.contract, workorder.wopriority, workorder.targcompdate, workorder.targstartdate, workorder.reportedby, workorder.reportdate, workorder.phone, workorder.problemcode, workorder.calendar, workorder.downtime, workorder.actstart, workorder.actfinish, workorder.schedstart, workorder.schedfinish, workorder.remdur, workorder.crewid, workorder.supervisor, workorder.wolablnk, workorder.respondby, workorder.assetlocpriority, workorder.calcpriority, workorder.chargestore, workorder.failurecode, workorder.glaccount, workorder.estservcost, workorder.actservcost, workorder.disabled, workorder.estatapprlabhrs, workorder.estatapprlabcost, workorder.estatapprmatcost, workorder.estatapprtoolcost, workorder.estatapprservcost, workorder.wosequence, workorder.hasfollowupwork, workorder.sourcesysid, workorder.ownersysid, workorder.pmduedate, workorder.pmextdate, workorder.pmnextduedate, workorder.worklocation, workorder.externalrefid, workorder.sendersysid, workorder.fincntrlid, workorder.generatedforpo, workorder.genforpolineid, workorder.orgid, workorder.siteid, CASE WHEN (workorder.istask = 1) THEN workorder.taskid ELSE null END as taskid, workorder.inspector, workorder.measurementvalue, workorder.measuredate, workorder.observation, workorder.pointnum, workorder.istask, workorder.woclass, workorder.onbehalfof, workorder.vendor as wovendor, workorder.origrecordclass, workorder.origrecordid, workorder.justifypriority, workorder.risk, workorder.environment, workorder.backoutplan, workorder.woacceptscharges, workorder.owner, workorder.classstructureid, workorder.parentchgsstatus, workorder.ownergroup, workorder.commoditygroup, workorder.commodity, workorder.workorderid, workorder.whomischangefor, workorder.reasonforchange, workorder.verification, workorder.persongroup, workorder.lead, workorder.hasld, workorder.interruptible, workorder.wogroup, workorder.langcode, workorder.rowstamp, assignment.wplaborid, assignment.craft, assignment.laborhrs, assignment.scheduledate, assignment.laborcode, assignment.startdate, assignment.finishdate, assignment.assignmentid, assignment.skilllevel, assignment.vendor, assignment.contractnum, assignment.rowstamp as rowstamp1, assignment.status as assignstatus, workorder.repfacsiteid, workorder.repairfacility, workorder.pluscjprevnum, workorder.pluscloop, workorder.pluscoverduedate, workorder.pluscphyloc, assignment.amcrew, assignment.amcrewtype, assignment.crewworkgroup as crewworkgroup, assignment.crewworkgroup as acrewworkgroup, assignment.workdate, coalesce(assignment.apptrequired , 0) as assnapptreq, coalesce(assignment.appointment, 0) as appointment, workorder.apptrequired, workorder.intshift, workorder.sneconstraint, workorder.fnlconstraint, workorder.inctasksinsched, workorder.plussisgis, workorder.plussfeatureclass, assignment.parentassignid, assignment.worklog FROM assignment RIGHT OUTER JOIN workorder on assignment.wonum = workorder.wonum and assignment.siteid = workorder.siteid;
