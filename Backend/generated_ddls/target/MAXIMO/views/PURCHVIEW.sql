-- VIEW: MAXIMO.PURCHVIEW
CREATE OR REPLACE VIEW "MAXIMO"."PURCHVIEW" ("ACCEPTANCELOSS", "ACCEPTPERIOD", "ADDLINESONUSE", "AMTREMAINING", "AUTOEXTENDPERIOD", "BUYAHEAD", "CANEXCEEDVOLUME", "CHANGEBY", "CHANGEDATE", "CHGPRICEONUSE", "CHGQTYONUSE", "CONDFOREXT", "CONTACT", "CONTRACTID", "CONTRACTNUM_1", "CONTRACTNUM_2", "CONTRACTPURCHID", "CONTRACTTYPE", "CREATEREL", "CURRENCYCODE", "CUSTNOTIFYPERIOD", "CUSTOMERNUM", "CUSTTERMALLOWED", "DELIVERYLOSS", "DESCRIPTION", "ENDDATE", "ENFORCEBUNDLE", "EXCHANGEDATE", "EXCHANGERATE", "EXCHANGERATE2", "EXTENDABLE", "EXTERNALREFID", "FOB", "FREIGHTTERMS", "HASINSURANCE", "HASLD", "HISTORYFLAG", "INCLUSIVE1", "INCLUSIVE2", "INCLUSIVE3", "INCLUSIVE4", "INCLUSIVE5", "INSPECTIONREQUIRED", "INSURANCEEXPDATE", "LANGCODE", "MAINTHIERCHY", "MASTERNUM", "MASTERREVNUM", "MAXRELVOL", "MAXVOL", "ORGID_1", "ORGID_2", "OWNERSYSID", "PAYMENTSCHED", "PAYMENTTERMS", "POREQUIRED", "PROCESSCLAIM", "PURCHASEAGENT", "RENEWALDATE", "REVCOMMENTS", "REVISIONNUM_1", "REVISIONNUM_2", "ROWSTAMP_1", "ROWSTAMP_2", "SENDERSYSID", "SHIPPINGLOSS", "SHIPVIA", "STARTDATE", "STATUS", "STATUSDATE", "SWLICTYPE", "TOTALBASECOST", "TOTALCOST", "VENDNOTIFYPERIOD", "VENDOR", "VENDORREFNUM", "VENDTERMALLOWED") AS SELECT contractpurch.acceptanceloss, contractpurch.acceptperiod, contractpurch.addlinesonuse, contractpurch.amtremaining, contract.autoextendperiod, contract.buyahead, contractpurch.canexceedvolume, contract.changeby, contract.changedate, contractpurch.chgpriceonuse, contractpurch.chgqtyonuse, contract.condforext, contract.contact, contract.contractid, contract.contractnum AS "CONTRACTNUM_1", contractpurch.contractnum AS "CONTRACTNUM_2", contractpurch.contractpurchid, contract.contracttype, contractpurch.createrel, contract.currencycode, contract.custnotifyperiod, contract.customernum, contract.custtermallowed, contractpurch.deliveryloss, contract.description, contract.enddate, contractpurch.enforcebundle, contract.exchangedate, contract.exchangerate, contract.exchangerate2, contract.extendable, contract.externalrefid, contract.fob, contract.freightterms, contract.hasinsurance, contract.hasld, contract.historyflag, contract.inclusive1, contract.inclusive2, contract.inclusive3, contract.inclusive4, contract.inclusive5, contract.inspectionrequired, contract.insuranceexpdate, contract.langcode, contractpurch.mainthierchy, contract.masternum, contract.masterrevnum, contractpurch.maxrelvol, contractpurch.maxvol, contract.orgid AS "ORGID_1", contractpurch.orgid AS "ORGID_2", contract.ownersysid, contract.paymentsched, contract.paymentterms, contract.porequired, contract.processclaim, contract.purchaseagent, contract.renewaldate, contract.revcomments, contract.revisionnum AS "REVISIONNUM_1", contractpurch.revisionnum AS "REVISIONNUM_2", contract.rowstamp AS "ROWSTAMP_1", contractpurch.rowstamp AS "ROWSTAMP_2", contract.sendersysid, contractpurch.shippingloss, contract.shipvia, contract.startdate, contract.status, contract.statusdate, contractpurch.swlictype, contract.totalbasecost, contract.totalcost, contract.vendnotifyperiod, contract.vendor, contract.vendorrefnum, contract.vendtermallowed from contractpurch, contract where contract.contractnum=contractpurch.contractnum and contract.revisionnum=contractpurch.revisionnum and contract.orgid=contractpurch.orgid and contract.contracttype in (select value from synonymdomain where domainid ='CONTRACTTYPE' and maxvalue in ('PRICE','BLANKET','PURCHASE', 'SWLICENSE'));
